<!DOCTYPE html>
<html>
	<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, viewport-fit=cover">
    <title></title>

    <script src="https://cdn.jsdelivr.net/gh/gkz/LiveScript/browser/livescript-min.js"></script>
    <script src=http://www.preludels.com/prelude-browser-min.js></script>
    <script src="https://cdn.jsdelivr.net/gh/js2coffee/js2coffee/dist/js2coffee.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/gkz/coffee2ls/extras/coffee2ls.min.js"></script>

    <script src=https://cdn.jsdelivr.net/gh/Onesimu/u.js/u/u.js></script>
    <script type=module src=https://cdn.jsdelivr.net/gh/Onesimu/u.js/u/web.js></script>

    <script type=module>
      import { qcs } from 'https://cdn.jsdelivr.net/gh/Onesimu/u.js/dev/qcs.js'
      u.qcs = qcs
    </script>
	</head>

	<body>
    <dl>
      <textarea id=f1 contenteditable></textarea>
      <dd id=f2>></dd>
      <dd id=f5><</dd>
      <dd id=f4>clear</dd>
      <textarea id=f3 contenteditable></textarea>
    </dl>

    <script type="text/ls">
      u.id \f2 .on ->
        src = u.id \f1 .h!
        res = js2coffee(src)
        o res
        u.id \f3 .h coffee2ls.compile coffee2ls.parse res
      u.id \f4 .on -> u.id \f1 .h ''
      u.id \f5 .on ->
        src = u.id \f3 .h!
        u.id \f1 .h ls.compile src, {bare: 1, header: 0, const: 0}
    </script>
    <script type=text/ls>
      u.bd.n \style .e -> it.h u.qcs
    </script>
    <script>
      window.ls = require("livescript")
      window.onload = function(){ ls.go() }
    </script>
    <style>
      dl { m: a; }
      dl > * { bd: 1 s wheat; }
      #f1 { w: 100%; h: 200; }
      #f3 { w: 100%; h: 200; }
      #f2, #f4, #f5 { w: 50; m: 10 a; ta: c; }
    </style>
	</body>
</html>
