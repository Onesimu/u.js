<!DOCTYPE html>
<html>
	<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, viewport-fit=cover">
    <title></title>

    <script src="https://cdn.jsdelivr.net/gh/js2coffee/js2coffee/dist/js2coffee.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/gkz/LiveScript/browser/livescript-min.js"></script>

    <script src=https://cdn.jsdelivr.net/gh/Onesimu/u.js/u/u.js></script>
    <script type=module src=https://cdn.jsdelivr.net/gh/Onesimu/u.js/u/web.js></script>

<!--   <script src=../u/u.js></script>
    <script src=../u/web.js></script> -->

    <script type=module>
      import { qcs } from 'https://cdn.jsdelivr.net/gh/Onesimu/u.js/dev/qcs.js'
      u.qcs = qcs
    </script>
	</head>

	<body>
    <dl>
      <textarea id=f1 contenteditable></textarea>
      <dd id=f2>run</dd>
      <dd id=f4>clear</dd>
      <textarea id=f3 contenteditable></textarea>
    </dl>

    <script type="text/ls">
      u.id \f2 .on ->
        src = u.id \f1 .h!
        o src
        res = js2coffee.build(src)
        o res
        u.id \f3 .h res.code
      u.id \f4 .on -> u.id \f1 .h ''
    </script>
    <script type=text/ls>
      String::qcs = -> u.qcs @
      l = document.getElementsByTagName \style
      [].forEach .call l, -> it.innerHTML .= qcs!
    </script>
    <script>
      window.ls = require("livescript")
      window.onload = function(){ ls.go() }
    </script>
    <style>
      dl { m: a; }
      dl > * { bd: 1 s wheat; }
      #f1 { w: 100%; h: 200; }
      #f3 { w: 100%; h: 200; }
      #f2, #f4 { w: 50; m: 10 a; ta: c; }
    </style>
	</body>
</html>
